<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cifrado César</title>
</head>
<body>
    <h1>Cifrado César</h1>

    <label for="opcion">Elige una opción:</label>
    <select id="opcion">
        <option value="1">Cifrar</option>
        <option value="2">Descifrar</option>
    </select>

    <div>
        <label for="frase">Ingresa una frase:</label>
        <input type="text" id="frase">
    </div>

    <button onclick="cifrarDescifrar()">Ejecutar</button>

    <div id="resultado"></div>

    <script>
        function codificar(letras, texto) {
            let textoCodificado = '';
            texto = texto.toUpperCase();

            for (let i = 0; i < texto.length; i++) {
                let caracter = texto.charAt(i);
                let pos = letras.indexOf(caracter);

                if (pos === -1) {
                    textoCodificado += caracter;
                } else {
                    let nuevaPos = (pos + 5) % letras.length;
                    textoCodificado += letras.charAt(nuevaPos);
                }
            }

            return textoCodificado;
        }

        function descodificar(letras, texto) {
            let textoDescodificado = '';
            texto = texto.toUpperCase();

            for (let i = 0; i < texto.length; i++) {
                let caracter = texto.charAt(i);
                let pos = letras.indexOf(caracter);

                if (pos === -1) {
                    textoDescodificado += caracter;
                } else {
                    let nuevaPos = (pos - 5 + letras.length) % letras.length;
                    textoDescodificado += letras.charAt(nuevaPos);
                }
            }

            return textoDescodificado;
        }

        function cifrarDescifrar() {
            //const letras = 'ABCDEFGHIJKLMNÑOPQRSTUVWXYZ@';
            const letras = 'ABCDEFGHIJKLMNÑOPQRSTUVWXYZÁÉÍÓÚÜ@!#$%^&*()_+{}[]:";<>,.?/~`|-';

            const opcion = document.getElementById('opcion').value;
            const frase = document.getElementById('frase').value;
            let resultado = '';

            if (opcion === '1') {
                resultado = codificar(letras, frase);
            } else if (opcion === '2') {
                resultado = descodificar(letras, frase);
            }

            document.getElementById('resultado').textContent = 'Resultado: ' + resultado;
        }
    </script>
</body>
</html>